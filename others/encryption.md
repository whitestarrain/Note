# 1. ç®—æ³•è¯´æ˜

## 1.1. ç¼–ç 

### 1.1.1. å­—ç¬¦é›†å’Œå­—ç¬¦ç¼–ç 

![encryption-1](./image/encryption-1.png)

- ç ç‚¹ä¸ç å…ƒï¼š
  - ç ç‚¹ï¼ˆCode Pointï¼‰
    - æœ‰äº›åœ°æ–¹ç¿»è¯‘ä¸º**ç å€¼æˆ–å†…ç **ã€‚æ˜¯æŒ‡åœ¨æŸä¸ªå­—ç¬¦é›†ä¸­ï¼Œæ ¹æ®æŸç§ç¼–ç è§„åˆ™å°†å­—ç¬¦ç¼–ç åå¾—åˆ°çš„å€¼
    - æ¯”å¦‚åœ¨ASCIIå­—ç¬¦é›†ä¸­ï¼Œå­—æ¯Aç»è¿‡ASCIIç¼–ç å¾—åˆ°çš„å€¼æ˜¯65ï¼Œé‚£ä¹ˆ65å°±æ˜¯å­—ç¬¦Aåœ¨ASCIIå­—ç¬¦é›†ä¸­çš„ç ç‚¹ã€‚
  - ç å…ƒï¼ˆCode Pointï¼‰
    > Code unit: The minimal bit combination that can represent a unit of encoded text for processing or interchange. <br />
    > ä¸ºé€šä¿¡ç›¸å…³æ¦‚å¿µ
    - æ˜¯èƒ½ç”¨äºå¤„ç†æˆ–äº¤æ¢ç¼–ç æ–‡æœ¬çš„**æœ€å°æ¯”ç‰¹ç»„åˆ**
    - æ˜¯ä¸€ä¸ªåŒ…å«ä¸€å®šä¿¡æ¯é‡çš„**ä¸€ä¸ªç‹¬ç«‹å­˜åœ¨çš„å•ä½**
    - é€šå¸¸è®¡ç®—æœºå¤„ç†å­—ç¬¦çš„ç å…ƒä¸ºä¸€å­—èŠ‚ï¼Œå³8bit
    - åŒæ—¶å› ä¸ºè®¡ç®—æœºä¸­charå…¶å®æ˜¯ä¸€ç§æ•´å½¢ï¼Œè€Œæ•´å½¢çš„è®¡ç®—å¾€å¾€ä»¥è®¡ç®—æœºçš„å­—é•¿ä½œä¸ºä¸€ä¸ªåŸºç¡€å•å…ƒï¼Œé€šå¸¸æ¥è®²ï¼Œä¹Ÿå°±æ˜¯4å­—èŠ‚ã€‚
    - UTF-8çš„ç å…ƒä¸ºuint8, UTF-16çš„ç å…ƒä¸ºuint16, UTF-32çš„ç å…ƒä¸ºuint32ã€‚
  - å…³ç³»ï¼š
    > ç®€å•ç†è§£å°±æ˜¯ç ç‚¹æ˜¯æ’åºçš„æ•°å­—ï¼Œç å…ƒæ˜¯æ¯”ç‰¹æµ
    - ç ç‚¹ **ç¼–ç ** å¾—åˆ°ç å…ƒ
    - ç å…ƒ **è§£ç ** å¾—åˆ°ç ç‚¹

- å­—ç¬¦é›†å’Œç¼–ç 
  - å­—ç¬¦é›†(Character Set):æ˜¯ä¸€ä¸ªç³»ç»Ÿæ”¯æŒçš„æ‰€æœ‰æŠ½è±¡å­—ç¬¦çš„é›†åˆã€‚ **æŠŠå­—ç¬¦ç›´æ¥ç¼–å·ä¸ºæ•°(å­—ç¬¦->ç ç‚¹)**
    - å®šä¹‰ç³»ç»Ÿèƒ½å¤„ç†å“ªäº›å­—ç¬¦ã€‚
    - å­—ç¬¦æ˜¯å„ç§æ–‡å­—å’Œç¬¦å·çš„æ€»ç§°ï¼ŒåŒ…æ‹¬å„å›½å®¶æ–‡å­—ã€æ ‡ç‚¹ç¬¦å·ã€å›¾å½¢ç¬¦å·ã€æ•°å­—ç­‰ã€‚
      > å¦‚unicodeå­—ç¬¦é›†ä¸­ä¹ŸåŒ…æ‹¬Emojiå­—ç¬¦ï¼Œ[emojiå­—ç¬¦ç¼–ç æŸ¥è¯¢](https://apps.timwhitlock.info/emoji/tables/unicode#block-2-dingbats)
    - å¸¸è§å­—ç¬¦é›†æœ‰ï¼šASCIIå­—ç¬¦é›†ã€GB2312å­—ç¬¦é›†ã€BIG5å­—ç¬¦é›†ã€GB18030å­—ç¬¦é›†ã€Unicodeå­—ç¬¦é›†ç­‰ã€‚
  - ç¼–ç (Encoding):åˆ™è§„å®šè¿™äº›å­—ç¬¦åœ¨è®¡ç®—æœºå†…éƒ¨çš„è¡¨ç¤ºæ–¹å¼ã€‚ **ç ç‚¹->ç å…ƒ**ã€‚
    - **æ˜¯ä¸€å¥—æ³•åˆ™**
      - ä½¿ç”¨è¯¥æ³•åˆ™èƒ½å¤Ÿå¯¹è‡ªç„¶è¯­è¨€çš„å­—ç¬¦çš„ä¸€ä¸ªé›†åˆï¼ˆå¦‚å­—æ¯è¡¨æˆ–éŸ³èŠ‚è¡¨ï¼‰
      - ä¸å…¶ä»–ä¸œè¥¿çš„ä¸€ä¸ªé›†åˆï¼ˆå¦‚å·ç æˆ–ç”µè„‰å†²ï¼‰è¿›è¡Œé…å¯¹
    - å³**åœ¨ç¬¦å·é›†åˆä¸æ•°å­—ç³»ç»Ÿä¹‹é—´å»ºç«‹å¯¹åº”å…³ç³»**ï¼Œå®ƒæ˜¯ä¿¡æ¯å¤„ç†çš„ä¸€é¡¹åŸºæœ¬æŠ€æœ¯ã€‚
    - é€šå¸¸äººä»¬ç”¨ç¬¦å·é›†åˆï¼ˆä¸€èˆ¬æƒ…å†µä¸‹å°±æ˜¯æ–‡å­—ï¼‰æ¥è¡¨è¾¾ä¿¡æ¯ã€‚
    - è€Œä»¥è®¡ç®—æœºä¸ºåŸºç¡€çš„ä¿¡æ¯å¤„ç†ç³»ç»Ÿåˆ™æ˜¯åˆ©ç”¨å…ƒä»¶ï¼ˆç¡¬ä»¶ï¼‰ä¸åŒçŠ¶æ€çš„ç»„åˆæ¥å­˜å‚¨å’Œå¤„ç†ä¿¡æ¯çš„ã€‚
    - å…ƒä»¶ä¸åŒçŠ¶æ€çš„ç»„åˆèƒ½ä»£è¡¨æ•°å­—ç³»ç»Ÿçš„æ•°å­—ï¼Œå› æ­¤å­—ç¬¦ç¼–ç å°±æ˜¯**å°†ç¬¦å·è½¬æ¢ä¸º**è®¡ç®—æœºå¯ä»¥æ¥å—çš„æ•°å­—ç³»ç»Ÿçš„**æ•°**ï¼Œç§°ä¸ºæ•°å­—ä»£ç ã€‚
  - å…³ç³»
    - **ä¸€èˆ¬ä¸€ä¸ªå­—ç¬¦é›†ç­‰åŒäºä¸€ä¸ªç¼–ç æ–¹å¼**
      - å¦‚ASCIIå­—ç¬¦é›†æœ‰å¯¹åº”çš„ASCIIç¼–ç 
      - ANSI ä½“ç³»çš„å­—ç¬¦é›†å¦‚ ASCIIã€ISO 8859-1ã€GB2312ã€ GBK ç­‰ç­‰éƒ½æ˜¯å¦‚æ­¤
      > ANSI æ˜¯ä¸€ç§å­—ç¬¦ä»£ç ï¼Œä¸ºä½¿è®¡ç®—æœºæ”¯æŒæ›´å¤šè¯­è¨€ï¼Œé€šå¸¸ä½¿ç”¨ 0x80~0xFF èŒƒå›´çš„ 2 ä¸ªå­—èŠ‚æ¥è¡¨ç¤º 1 ä¸ªå­—ç¬¦
    - ä¸€ä¸ªå­—ç¬¦é›†ä¸Šä¹Ÿå¯ä»¥æœ‰å¤šç§ç¼–ç æ–¹å¼
      - ä¾‹å¦‚ UCS å­—ç¬¦é›†(ä¹Ÿæ˜¯ Unicode ä½¿ç”¨çš„å­—ç¬¦é›†)ä¸Šæœ‰ UTF-8ã€UTF-16ã€UTF-32 ç­‰ç¼–ç æ–¹å¼ã€‚

      <details>
      <summary style="color:red;">ASCIIç¼–ç è¡¨</summary>

      ![encryption-2](./image/encryption-2.png)
      </details>

### 1.1.2. æµç¨‹è¯´æ˜ï¼ˆç½‘é¡µä¼ è¾“ä¸ºä¾‹ï¼‰

> ä½¿ç”¨mysqlçš„ `hex(convert("[å­—ç¬¦ä¸²]",using [ç¼–ç ]))` è·å–æŒ‡å®š16è¿›åˆ¶

#### 1.1.2.1. ç¼–ç 

> javaæœåŠ¡å™¨ä¸ºä¾‹

- htmlæ–‡ä»¶è¯»å–ï¼š
  - è¯´æ˜
    - ä»¥æŒ‡å®šç¼–ç çš„æ–¹å¼å­˜å‚¨åœ¨ç£ç›˜ï¼Œè¯»å–åˆ°å†…å­˜æ—¶ä¼šè§£ç ä¸ºunicodeç å€¼çš„å½¢å¼
    - ä»¥`utf-8`æ–¹å¼å­˜å‚¨å†ç£ç›˜ä¸­æ—¶ï¼Œéœ€è¦ä»¥`utf-8`æ–¹å¼è¿›è¡Œè§£ç ä¸º`unicode`ç å€¼
      ```java
      new BufferedReader(new InputStreamReader(connection.getInputStream(),"utf-8"));
      ```
  - ä»¥`ç¼–ç `ä¸¤å­—ä¸ºä¾‹ï¼š
    - ç£ç›˜ä¸­çš„å€¼ä¸ºï¼š`E7BC96E7A081`ã€‚
      ```sql
      SELECT HEX(CONVERT('ç¼–ç ' USING utf8));
      ```
    - æ˜¾ç¤ºåœ¨IDEä¸­æ—¶ï¼Œå†…å­˜ä¸­çš„å€¼ä¸ºï¼š`00007F1600007801`ã€‚
      ```sql
      SELECT HEX(CONVERT('ç¼–ç ' USING utf32));
      -- utf32ç¼–ç å°±æ˜¯unicode->ç å€¼çš„æ˜ å°„
      ```

- æ•°æ®å‘é€æ—¶ï¼Œå†ç¼–ç ä¸ºæŒ‡å®šç¼–ç æ ¼å¼
  ```java
  // å°†å†…å­˜ä¸­çš„unicodeç å€¼ä»¥ä»€ä¹ˆå½¢å¼ç¼–ç åå‘é€ï¼ˆä»¥èŠ‚çœå‘é€å­—èŠ‚æ•°ï¼‰
  new BufferedWriter(new OutputStreamWriter(new FileOutputStream(file),"utf-8"));
  ```

--- 

- JVMä¸­unicodeçš„æ¡¥æ¢ä½œç”¨ï¼š
  - JVMå†…å­˜éƒ½æ˜¯é‡‡ç”¨Unicodeè¿›è¡Œç¼–ç ï¼Œä¸€ä¸ªcharå 2ä¸ªbytesã€‚
  - åœ¨æ¥æ”¶åˆ°IOå­—èŠ‚æµã€å‘IOè¾“å‡ºå­—èŠ‚æµçš„æ—¶å€™ï¼Œéƒ½æ˜¯**ä»¥Unicodeä¸ºæ¡¥æ¢**ï¼Œ**IOè¾“å…¥ä¼šå…ˆè½¬ä¸ºUnicodeï¼Œè¾“å‡ºä¼šä»Unicodeè½¬ä¸ºç›¸åº”ç¼–ç **ã€‚
  - æ‰€ä»¥ä»å¤–éƒ¨æ¥æ”¶çš„æ•°æ®ï¼Œæƒ³è®©JVMè‡ªèº«èƒ½æ­£ç¡®å­˜å‚¨ã€æ˜¾ç¤ºï¼Œå®è´¨å°±æ˜¯å…ˆæ­£ç¡®åˆ©ç”¨å‘é€æ–¹çš„ç¼–ç æ–¹å¼æ¥è§£è¯»bytesï¼Œå­˜ä¸ºUnicodeçš„char streamè¿‡ç¨‹ã€‚

#### 1.1.2.2. è¯†åˆ«

- æ£€æµ‹æ–‡ä»¶å¤´çš„å­—èŠ‚é¡ºåºæ ‡è¯†ï¼ˆByte Order Markï¼ŒBOMï¼‰
  > ä¸æ˜¯æ ‡å‡†ï¼Œwindowsç¨‹åº(å¦‚windowsè®°äº‹æœ¬)ä¼šæºå¸¦ <br />
  > Posixç³»ç»Ÿæ˜ç¡®ä¸å»ºè®®ä½¿ç”¨å­—èŠ‚åºæ©ç EF BB BF
  ```
  EF BB BF UTF-8
  FE FF UTF-16/UCS-2, big endian
  FF FE UTF-16/UCS-2, little endian
  FF FE 00 00 UTF-32/UCS-4, little endian.
  00 00 FE FF UTF-32/UCS-4, big-endian.
  ```

- è½¯ä»¶è‡ªå·±æ ¹æ®ç¼–ç è§„åˆ™çŒœæµ‹å½“å‰æ–‡ä»¶çš„ç¼–ç ã€‚
  - å“åº”ä½“ä¸­çš„content-typeå­—æ®µä¸­çš„ç¼–ç ä¿¡æ¯

    ![encryption-5](./image/encryption-5.png)
  - htmlå’Œxmlæ–‡æ¡£ä¸­çš„ç¼–ç å£°æ˜ï¼š
  ```xml
  <!-- html -->
  <meta charset="UTF-8">
  <!-- xml -->
  <?xml version="1.0" encoding="UTF-8"?>

  <!-- ç–‘é—®ï¼šè§£æåæ‰èƒ½çœ‹åˆ°è¿™ä¸ªå­—ç¬¦ä¸²å§ï¼Œæ€ä¹ˆå›äº‹å„¿ï¼Ÿ -->
  ```

- ç¼ºçœæˆ–è€…æç¤ºç”¨æˆ·è¾“å…¥

#### 1.1.2.3. è§£ç 

- æµè§ˆå™¨æ‹¿åˆ°äºŒè¿›åˆ¶çš„æ•°æ®åï¼Œè§£ç ä¸ºç å€¼ã€‚
  ```sql
  -- utf-8è§£ç ä¸ºunicodeç å€¼ä¸ºä¾‹
  SELECT CONVERT(0xE7BC96E7A081 USING utf8);
  ```

### ç¼–ç å‘å±•å†å²

<!-- ç¬¬ä¸€ä¸ªé˜¶æ®µï¼šASCII å­—ç¬¦é›†å’Œ ASCII ç¼–ç ã€‚ è®¡ç®—æœºåˆšå¼€å§‹åªæ”¯æŒè‹±è¯­(å³æ‹‰ä¸å­—ç¬¦)ï¼Œå…¶å®ƒè¯­è¨€ä¸èƒ½å¤Ÿåœ¨è®¡ç®—æœºä¸Šå­˜å‚¨å’Œæ˜¾ç¤ºã€‚ASCII ç”¨ä¸€ä¸ªå­—èŠ‚( Byte )çš„ 7 ä½(bit)è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ï¼Œç¬¬ä¸€ä½ç½® 0ã€‚åæ¥ä¸ºäº†è¡¨ç¤ºæ›´å¤šçš„æ¬§æ´²å¸¸ç”¨å­—ç¬¦åˆå¯¹ ASCII è¿›è¡Œäº†æ‰©å±•ï¼Œåˆæœ‰äº† EASCIIï¼ŒEASCII ç”¨ 8 ä½è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ï¼Œä½¿å®ƒèƒ½å¤šè¡¨ç¤º 128 ä¸ªå­—ç¬¦ï¼Œæ”¯æŒäº†éƒ¨åˆ†è¥¿æ¬§å­—ç¬¦ã€‚
ç¬¬äºŒä¸ªé˜¶æ®µï¼šANSI ç¼–ç ï¼ˆæœ¬åœ°åŒ–ï¼‰ ä¸ºä½¿è®¡ç®—æœºæ”¯æŒæ›´å¤šè¯­è¨€ï¼Œé€šå¸¸ä½¿ç”¨ 0x80~0xFF èŒƒå›´çš„ 2 ä¸ªå­—èŠ‚æ¥è¡¨ç¤º 1 ä¸ªå­—ç¬¦ã€‚æ¯”å¦‚ï¼šæ±‰å­— â€˜ä¸­â€™ åœ¨ä¸­æ–‡æ“ä½œç³»ç»Ÿä¸­ï¼Œä½¿ç”¨ [0xD6,0xD0] è¿™ä¸¤ä¸ªå­—èŠ‚å­˜å‚¨ã€‚ ä¸åŒçš„å›½å®¶å’Œåœ°åŒºåˆ¶å®šäº†ä¸åŒçš„æ ‡å‡†ï¼Œç”±æ­¤äº§ç”Ÿäº† GB2312, BIG5, JIS ç­‰å„è‡ªçš„ç¼–ç æ ‡å‡†ã€‚è¿™äº›ä½¿ç”¨ 2 ä¸ªå­—èŠ‚æ¥ä»£è¡¨ä¸€ä¸ªå­—ç¬¦çš„å„ç§æ±‰å­—å»¶ä¼¸ç¼–ç æ–¹å¼ï¼Œç§°ä¸º ANSI ç¼–ç ã€‚åœ¨ç®€ä½“ä¸­æ–‡ç³»ç»Ÿä¸‹ï¼ŒANSI ç¼–ç ä»£è¡¨ GB2312 ç¼–ç ï¼Œåœ¨æ—¥æ–‡æ“ä½œç³»ç»Ÿä¸‹ï¼ŒANSI ç¼–ç ä»£è¡¨ JIS ç¼–ç ã€‚ ä¸åŒ ANSI ç¼–ç ä¹‹é—´äº’ä¸å…¼å®¹ï¼Œå½“ä¿¡æ¯åœ¨å›½é™…é—´äº¤æµæ—¶ï¼Œæ— æ³•å°†å±äºä¸¤ç§è¯­è¨€çš„æ–‡å­—ï¼Œå­˜å‚¨åœ¨åŒä¸€æ®µ ANSI ç¼–ç çš„æ–‡æœ¬ä¸­ã€‚
ç¬¬ä¸‰ä¸ªé˜¶æ®µï¼šUNICODEï¼ˆå›½é™…åŒ–ï¼‰ ä¸ºäº†ä½¿å›½é™…é—´ä¿¡æ¯äº¤æµæ›´åŠ æ–¹ä¾¿ï¼Œå›½é™…ç»„ç»‡åˆ¶å®šäº† UNICODE å­—ç¬¦é›†ï¼Œä¸ºå„ç§è¯­è¨€ä¸­çš„æ¯ä¸€ä¸ªå­—ç¬¦è®¾å®šäº†ç»Ÿä¸€å¹¶ä¸”å”¯ä¸€çš„æ•°å­—ç¼–å·ï¼Œä»¥æ»¡è¶³è·¨è¯­è¨€ã€è·¨å¹³å°è¿›è¡Œæ–‡æœ¬è½¬æ¢ã€å¤„ç†çš„è¦æ±‚ã€‚UNICODE å¸¸è§çš„æœ‰ä¸‰ç§ç¼–ç æ–¹å¼:UTF-8ã€UTF-16ã€UTF-32ã€‚
ä¸‹é¢æ˜¯ç”¨ä¸€ä¸ªæ ‘çŠ¶å›¾è¡¨ç¤ºçš„ç”±ASCIIå‘å±•è€Œæ¥çš„å„ä¸ªå­—ç¬¦é›†å’Œç¼–ç çš„åˆ†æ”¯ï¼š -->

![encryption-8](./image/encryption-8.png)

### 1.1.3. unicodeä¸utf-8

#### 1.1.3.1. UCS-2ï¼ŒUCS-4ä»¥åŠUTF

- UCS-2
  - Unicodeæ˜¯ä¸ºæ•´åˆå…¨ä¸–ç•Œçš„æ‰€æœ‰è¯­è¨€æ–‡å­—è€Œè¯ç”Ÿçš„ã€‚
  - ä»»ä½•æ–‡å­—åœ¨Unicodeä¸­éƒ½å¯¹åº”ä¸€ä¸ªå€¼ï¼Œ è¿™ä¸ªå€¼ç§°ä¸ºç å€¼ï¼ˆcode pointï¼‰ã€‚
  - ç å€¼é€šå¸¸å†™æˆ U+ABCD çš„æ ¼å¼ã€‚è€Œæ–‡å­—å’Œä»£ç ç‚¹ä¹‹é—´çš„å¯¹åº”å…³ç³»å°±æ˜¯UCS-2ï¼ˆUniversal Character Set coded in 2 octetsï¼‰
  - é¡¾åæ€ä¹‰ï¼ŒUCS-2æ˜¯ç”¨ä¸¤ä¸ªå­—èŠ‚æ¥è¡¨ç¤ºç å€¼ï¼Œå…¶å–å€¼èŒƒå›´ä¸º U+0000ï½U+FFFFã€‚
- UCS-4
  - ä¸ºäº†èƒ½è¡¨ç¤ºæ›´å¤šçš„æ–‡å­—ï¼Œäººä»¬åˆæå‡ºäº†UCS-4
  - å³ç”¨å››ä¸ªå­—èŠ‚è¡¨ç¤ºä»£ç ç‚¹ã€‚å®ƒçš„èŒƒå›´ä¸º U+00000000ï½U+7FFFFFFF
  - å…¶ä¸­ U+00000000ï½U+0000FFFFå’ŒUCS-2æ˜¯ä¸€æ ·çš„ã€‚

- æ³¨æ„
  - UCS-2å’ŒUCS-4åªè§„å®šäº†ä»£ç ç‚¹å’Œæ–‡å­—ä¹‹é—´çš„å¯¹åº”å…³ç³»
  - **å¹¶æ²¡æœ‰è§„å®šä»£ç ç‚¹åœ¨è®¡ç®—æœºä¸­å¦‚ä½•å­˜å‚¨**ã€‚
  - è§„å®šå­˜å‚¨æ–¹å¼çš„ç§°ä¸ºUTFï¼ˆUnicode Transformation Formatï¼‰ï¼Œ
  - ä¹Ÿå°±æ˜¯æˆ‘ä»¬ä¸Šé¢æåˆ°çš„UTF8æ ¼å¼å’Œä¸‹é¢å°†è¦æåˆ°çš„UTF16ã€UTF32æ ¼å¼ã€‚

#### 1.1.3.2. unicode->utf-8æ˜ å°„è§„åˆ™

- å¯¹äºå•å­—èŠ‚çš„ç¬¦å·
    ```
  å­—èŠ‚çš„ç¬¬ä¸€ä½è®¾ä¸º 0ï¼Œåé¢çš„7ä½ä¸ºè¿™ä¸ªç¬¦å·çš„ Unicode ç ï¼Œ
  å› æ­¤å¯¹äºè‹±æ–‡å­—æ¯ï¼ŒUTF-8 ç¼–ç å’Œ ASCII ç æ˜¯ç›¸åŒçš„ã€‚ 
    ```
- å¯¹äºnå­—èŠ‚çš„ç¬¦å·ï¼ˆn>1ï¼‰
  ```
  ç¬¬ä¸€ä¸ªå­—èŠ‚çš„å‰ n ä½éƒ½è®¾ä¸º 1ï¼Œç¬¬ n+1 ä½è®¾ä¸º 0ï¼Œ
  åé¢å­—èŠ‚çš„å‰ä¸¤ä½ä¸€å¾‹è®¾ä¸º 10ï¼Œ
  å‰©ä¸‹çš„æ²¡æœ‰æåŠçš„äºŒè¿›åˆ¶ä½ï¼Œå…¨éƒ¨ä¸ºè¿™ä¸ªç¬¦å·çš„ Unicode ç  ã€‚
  ```
- ä¸¾ä¸ªä¾‹å­ï¼š
  ```
  æ¯”å¦‚è¯´ä¸€ä¸ªå­—ç¬¦çš„ Unicode ç¼–ç æ˜¯ 130ï¼Œæ˜¾ç„¶æŒ‰ç…§ UTF-8 çš„è§„åˆ™ä¸€ä¸ªå­—èŠ‚æ˜¯è¡¨ç¤ºä¸äº†å®ƒ
  ï¼ˆå› ä¸ºå¦‚æœæ˜¯ä¸€ä¸ªå­—èŠ‚çš„è¯å‰é¢çš„ä¸€ä½å¿…é¡»æ˜¯ 0ï¼‰ï¼Œæ‰€ä»¥éœ€è¦ä¸¤ä¸ªå­—èŠ‚(n = 2)ã€‚
  æ ¹æ®è§„åˆ™ï¼Œç¬¬ä¸€ä¸ªå­—èŠ‚çš„å‰ 2 ä½éƒ½è®¾ä¸º 1ï¼Œç¬¬ 3(2+1) ä½è®¾ä¸º 0ï¼Œ
  åˆ™ç¬¬ä¸€ä¸ªå­—èŠ‚ä¸ºï¼š110X XXXXï¼Œåé¢å­—èŠ‚çš„å‰ä¸¤ä½ä¸€å¾‹è®¾ä¸º 10ï¼Œåé¢åªå‰©ä¸‹ä¸€ä¸ªå­—èŠ‚ï¼Œæ‰€ä»¥åé¢çš„å­—èŠ‚ä¸ºï¼š10XX XXXXã€‚
  æ‰€ä»¥å®ƒçš„æ ¼å¼ä¸º 110XXXXX 10XXXXXX ã€‚
  ```

#### 1.1.3.3. utf-8å‡ºç°çš„åŸå› /ä½œç”¨

```
è™½ç„¶unicodeç¼–ç èƒ½åšåˆ°å°†ä¸åŒå›½å®¶çš„å­—ç¬¦è¿›è¡Œç»Ÿä¸€ï¼Œä½¿å¾—ä¹±ç é—®é¢˜å¾—ä»¥è§£å†³ï¼Œ
ä½†æ˜¯å¦‚æœå†…å®¹å…¨æ˜¯è‹±æ–‡unicodeç¼–ç æ¯”ASCIIç¼–ç éœ€è¦å¤šä¸€å€çš„å­˜å‚¨ç©ºé—´ï¼ŒåŒæ—¶å¦‚æœä¼ è¾“éœ€è¦å¤šä¸€å€çš„ä¼ è¾“ã€‚
å½“ä¼ è¾“æ–‡ä»¶æ¯”è¾ƒå°çš„æ—¶å€™ï¼Œå†…å­˜èµ„æºå’Œç½‘ç»œå¸¦å®½å°šèƒ½æ‰¿å—ï¼Œ
å½“æ–‡ä»¶ä¼ è¾“è¾¾åˆ°ä¸ŠTBçš„æ—¶å€™ï¼Œå¦‚æœ"ç¡¬ä¼ "ï¼Œåˆ™éœ€è¦æ¶ˆè€—çš„èµ„æºå°±ä¸å¯å°è§‘äº†ã€‚
ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä¸€ç§å¯å˜é•¿çš„ç¼–ç â€œutf-8â€å°±åº”è¿è€Œç”Ÿäº†ï¼ŒæŠŠè‹±æ–‡å˜é•¿1ä¸ªå­—èŠ‚ï¼Œæ±‰å­—3ä¸ªå­—èŠ‚ï¼Œ
ç‰¹åˆ«ç”Ÿåƒ»çš„å˜æˆ4-6ä¸ªå­—èŠ‚ï¼Œå¦‚æœä¼ è¾“å¤§é‡çš„è‹±æ–‡ï¼Œutf8çš„ä½œç”¨å°±å¾ˆæ˜æ˜¾äº†ã€‚

æ‰€ä»¥utf-8ç¼–ç åœ¨åšç½‘ç»œä¼ è¾“å’Œæ–‡ä»¶ä¿å­˜çš„æ—¶å€™ï¼Œå°†unicodeç¼–ç è½¬æ¢æˆutf-8ç¼–ç ï¼Œæ‰èƒ½æ›´å¥½çš„å‘æŒ¥å…¶ä½œç”¨ï¼›
å½“ä»æ–‡ä»¶ä¸­è¯»å–æ•°æ®åˆ°å†…å­˜ä¸­çš„æ—¶å€™ï¼Œå°†utf-8ç¼–ç è½¬æ¢ä¸ºunicodeç¼–ç ï¼Œäº¦ä¸ºè‰¯ç­–ã€‚
```

![encryption-3](./image/encryption-3.png)

#### 1.1.3.4. unicodeçš„å¤§å¤´å°å¤´

- è¯´æ˜
  - ä»¥æ±‰å­—`ä¸¥`ä¸ºä¾‹ï¼ŒUnicode ç æ˜¯`4E25`ï¼Œéœ€è¦ç”¨ä¸¤ä¸ªå­—èŠ‚å­˜å‚¨ï¼Œä¸€ä¸ªå­—èŠ‚æ˜¯`4E`ï¼Œå¦ä¸€ä¸ªå­—èŠ‚æ˜¯`25`ã€‚
  - å­˜å‚¨çš„æ—¶å€™ï¼Œ`4E`åœ¨å‰ï¼Œ`25`åœ¨åï¼Œè¿™å°±æ˜¯ **Big endian** æ–¹å¼ï¼›`25`åœ¨å‰ï¼Œ`4E`åœ¨åï¼Œè¿™æ˜¯ **Little endian** æ–¹å¼ã€‚
- Unicode è§„èŒƒå®šä¹‰ï¼Œæ¯ä¸€ä¸ªæ–‡ä»¶çš„æœ€å‰é¢åˆ†åˆ«åŠ å…¥ä¸€ä¸ªè¡¨ç¤ºç¼–ç é¡ºåºçš„å­—ç¬¦ï¼Œ
  - è¿™ä¸ªå­—ç¬¦çš„åå­—å«åš"é›¶å®½åº¦éæ¢è¡Œç©ºæ ¼"ï¼ˆzero width no-break spaceï¼‰ï¼Œç”¨`FEFF`è¡¨ç¤ºã€‚
  - è¿™æ­£å¥½æ˜¯ä¸¤ä¸ªå­—èŠ‚ï¼Œè€Œä¸”`FF`æ¯”`FE`å¤§`1`ã€‚
  - å¦‚æœä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶çš„å¤´ä¸¤ä¸ªå­—èŠ‚æ˜¯`FE FF`ï¼Œå°±è¡¨ç¤ºè¯¥æ–‡ä»¶é‡‡ç”¨å¤§å¤´æ–¹å¼ï¼›
  - å¦‚æœå¤´ä¸¤ä¸ªå­—èŠ‚æ˜¯`FF FE`ï¼Œå°±è¡¨ç¤ºè¯¥æ–‡ä»¶é‡‡ç”¨å°å¤´æ–¹å¼ã€‚

![encryption-4](./image/encryption-4.png)

#### 1.1.3.5. æ–‡ä»¶å¤´ç¼–ç æ ‡è¯†

```
EF BB BF UTF-8
FE FF UTF-16/UCS-2, big endian
FF FE UTF-16/UCS-2, little endian
FF FE 00 00 UTF-32/UCS-4, little endian.
00 00 FE FF UTF-32/UCS-4, big-endian.
```

### 1.1.4. ç°ä»£ç¼–ç æ¨¡å‹ï¼ˆæ‰©å±•ï¼‰

#### 1.1.4.1. è¯´æ˜

- ç°ä»£ç¼–ç æ¨¡å‹è‡ªåº•å‘ä¸Šåˆ†ä¸ºäº”ä¸ªå±‚æ¬¡ï¼š
  - ç¬¬1å±‚ æŠ½è±¡å­—ç¬¦è¡¨ACR(Abstract Character Repertoire)ï¼šæ˜ç¡®å­—ç¬¦çš„èŒƒå›´(å³ç¡®å®šæ”¯æŒå“ªäº›å­—ç¬¦)
  - ç¬¬2å±‚ ç¼–å·å­—ç¬¦é›†CCS(Coded Character Set)ï¼šç”¨æ•°å­—ç¼–å·è¡¨ç¤ºå­—ç¬¦(å³ç”¨æ•°å­—ç»™æŠ½è±¡å­—ç¬¦è¡¨ACRä¸­çš„å­—ç¬¦è¿›è¡Œç¼–å·)
  - ç¬¬3å±‚ å­—ç¬¦ç¼–ç æ–¹å¼CEF(Character Encoding Form)ï¼šå°†å­—ç¬¦ç¼–å·ç¼–ç ä¸ºé€»è¾‘ä¸Šçš„ç å…ƒåºåˆ—(å³é€»è¾‘å­—ç¬¦ç¼–ç )
  - ç¬¬4å±‚ å­—ç¬¦ç¼–ç æ¨¡å¼CES(Character Encoding Scheme)ï¼šå°†é€»è¾‘ä¸Šçš„ç å…ƒåºåˆ—æ˜ å°„ä¸ºç‰©ç†ä¸Šçš„å­—èŠ‚åºåˆ—(å³ç‰©ç†å­—ç¬¦ç¼–ç )
  - ç¬¬5å±‚ ä¼ è¾“ç¼–ç è¯­æ³•TES(Transfer Encoding Syntax)ï¼šå°†å­—èŠ‚åºåˆ—ä½œè¿›ä¸€æ­¥çš„é€‚åº”æ€§ç¼–ç å¤„ç†

- æ¥æºï¼š[Unicode Technical Report (UTRç»Ÿä¸€ç æŠ€æœ¯æŠ¥å‘Š)](http://www.unicode.org/reports/tr17/#Repertoire)

#### 1.1.4.2. æŠ½è±¡å­—ç¬¦è¡¨ ACR (Abstract Character Repertoire)

- **æŠ½è±¡å­—ç¬¦** (Abstract Character) [ç»´åŸº](https://zh.wikipedia.org/wiki/%E5%AD%97%E7%AC%A6_(%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6))
  - å­—ç¬¦æ˜¯æŒ‡å­—æ¯ã€æ•°å­—ã€æ ‡ç‚¹ã€è¡¨æ„æ–‡å­—ï¼ˆå¦‚æ±‰å­—ï¼‰ã€ç¬¦å·ã€æˆ–è€…å…¶ä»–æ–‡æœ¬å½¢å¼çš„ä¹¦å†™â€œåŸå­â€ã€‚
  - ä¾‹ï¼š `a`,`å•Š`,`ã‚`,` Î±`,`Ğ”`ç­‰ï¼Œéƒ½æ˜¯**æŠ½è±¡çš„å­—ç¬¦**ã€‚
  - åƒ`a`è¿™æ ·çš„å­—ç¬¦æ˜¯æœ‰å½¢çš„ï¼Œä½†åœ¨è®¡ç®—æœºä¸­ï¼Œæœ‰è®¸å¤šçš„å­—ç¬¦æ˜¯ç©ºç™½çš„ï¼Œç”šè‡³æ˜¯ä¸å¯æ‰“å°çš„ã€‚
  - æ¯”å¦‚ASCIIå­—ç¬¦é›†ä¸­çš„NULLï¼Œå°±æ˜¯ä¸€ä¸ªæŠ½è±¡å­—ç¬¦ã€‚
  - æ³¨æ„\x00,\000,NULL,0 è¿™äº›å†™æ³•éƒ½åªæ˜¯è¿™ä¸ªæŠ½è±¡å­—ç¬¦çš„æŸç§è¡¨ç°å½¢å¼ï¼Œè€Œä¸æ˜¯è¿™ä¸ªæŠ½è±¡å­—ç¬¦æœ¬èº«ã€‚

- **æŠ½è±¡å­—ç¬¦é›†** ACR (Abstract Character Repertoire)
  - æ˜¯ç°ä»£ç¼–ç æ¨¡å‹çš„æœ€åº•å±‚ï¼ŒæŒ‡çš„æ˜¯**å­—ç¬¦ä¸æŠ½è±¡å­—ç¬¦çš„é›†åˆ**ã€‚
  - å®ƒæ˜¯ä¸€ä¸ªé›†åˆï¼Œé€šè¿‡æšä¸¾æŒ‡æ˜äº†æ‰€å±çš„æ‰€æœ‰å­—ç¬¦ä¸æŠ½è±¡å­—ç¬¦ã€‚å› ä¸ºæ˜¯é›†åˆï¼Œæ‰€ä»¥ä¹Ÿæ˜¯**æ— åºçš„**
  - å·²ç»æœ‰äº†å¾ˆå¤šæ ‡å‡†çš„å­—ç¬¦é›†å®šä¹‰: [Character Sets](https://www.iana.org/assignments/character-sets/character-sets.xhtml)
    - æ¯”å¦‚US-ASCII, UCS(Unicode), GBKè¿™äº›æˆ‘ä»¬è€³ç†Ÿèƒ½è¯¦çš„åå­—ï¼Œéƒ½æ˜¯(æˆ–è€…è‡³å°‘æ˜¯)æŠ½è±¡å­—ç¬¦é›†ã€‚
    - US-ASCIIå®šä¹‰äº†128ä¸ªæŠ½è±¡å­—ç¬¦çš„é›†åˆã€‚GBKæŒ‘é€‰äº†ä¸¤ä¸‡å¤šä¸ªä¸­æ—¥éŸ©æ±‰å­—å’Œå…¶ä»–ä¸€äº›å­—ç¬¦ç»„æˆå­—ç¬¦é›†ï¼Œè€ŒUCSåˆ™å°è¯•å»å®¹çº³ä¸€åˆ‡çš„æŠ½è±¡å­—ç¬¦ã€‚å®ƒä»¬éƒ½æ˜¯æŠ½è±¡å­—ç¬¦é›†ã€‚
    - æŠ½è±¡å­—ç¬¦ è‹±æ–‡å­—æ¯`A`åŒæ—¶å±äºUS-ASCII, UCS, GBKè¿™ä¸‰ä¸ªå­—ç¬¦é›†ã€‚
    - æŠ½è±¡å­—ç¬¦ ä¸­æ–‡æ–‡å­—`è›¤`ä¸å±äºUS-ASCIIï¼Œå±äºGBKå­—ç¬¦é›†ï¼Œä¹Ÿå±äºUCSå­—ç¬¦é›†ã€‚
    - æŠ½è±¡æ–‡å­— Emoji `ğŸ˜Š`ä¸å±äºUS-ASCIIä¸GBKå­—ç¬¦é›†ï¼Œä½†å±äºUCSå­—ç¬¦é›†ã€‚

- æ³¨æ„ï¼š
  - æŠ½è±¡å­—ç¬¦é›†ä¹Ÿæ˜¯æœ‰**å¼€æ”¾**ä¸**å°é—­**ä¹‹åˆ†çš„ã€‚
  - ASCIIæŠ½è±¡å­—ç¬¦é›†å®šä¹‰äº†128ä¸ªæŠ½è±¡å­—ç¬¦ï¼Œå†ä¹Ÿä¸ä¼šå¢åŠ ã€‚è¿™æ˜¯ä¸€ä¸ªå°é—­å­—ç¬¦é›†ã€‚
  - Unicodeå°è¯•æ”¶çº³æ‰€æœ‰çš„å­—ç¬¦ï¼Œä¸€ç›´åœ¨ä¸æ–­åœ°æ‰©å¼ ä¹‹ä¸­

- ä¾‹ï¼šæˆ‘å¯ä»¥è‡ªå·±å®šä¹‰ä¸€ä¸ªå­—ç¬¦çš„é›†åˆï¼Œå«è¿™ä¸ªé›†åˆä¸ºhahaå­—ç¬¦é›†ã€‚
  ```python
  haha_acr = { 'a', 'å¼', 'ã‚', ' Î±', 'Ğ”' }
  ```

#### 1.1.4.3. ç¼–ç å­—ç¬¦é›† CCS (Coded Character Set)

- **ç¼–ç å­—ç¬¦é›†**
  - æ˜¯ä¸€ä¸ªæ¯ä¸ªæ‰€å±å­—ç¬¦éƒ½åˆ†é…äº†**ç ä½**çš„æŠ½è±¡**å­—ç¬¦é›†**ã€‚
  - **ç¼–ç å­—ç¬¦é›†(CCS)**ä¹Ÿç»å¸¸ç®€å•å«åš**å­—ç¬¦é›†(Character Set)**
  - è¿™æ ·çš„å«æ³•ç»å¸¸ä¼šå°†**æŠ½è±¡å­—ç¬¦é›†ACR**ä¸**ç¼–ç å­—ç¬¦é›†CCS**ææ··ã€‚ä¸è¿‡å¤§å¤šæ—¶å€™äººä»¬ä¹Ÿä¸åœ¨ä¹è¿™ç§äº‹æƒ…ã€‚

- ç å€¼/ç ä½
  - ä¸ºäº†æ›´å¥½çš„æè¿°ï¼Œæ“ä½œå­—ç¬¦ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºæŠ½è±¡å­—ç¬¦é›†ä¸­çš„æ¯ä¸ªå­—ç¬¦å…³è”ä¸€ä¸ªæ•°å­—ç¼–å·ï¼Œè¿™ä¸ªæ•°å­—ç¼–å·ç§°ä¹‹ä¸º**ç ä½(Code Point)**ã€‚
  - é€šå¸¸æ ¹æ®ä¹ æƒ¯ï¼Œæˆ‘ä»¬ä¸ºå­—ç¬¦åˆ†é…çš„**ç ä½**é€šå¸¸éƒ½æ˜¯éè´Ÿæ•´æ•°ï¼Œä¹ æƒ¯ä¸Šç”¨åå…­è¿›åˆ¶è¡¨ç¤ºã€‚ä¸”ä¸€ä¸ªç¼–ç å­—ç¬¦é›†ä¸­å­—ç¬¦ä¸ç ä½çš„æ˜ å°„æ˜¯**ä¸€ä¸€æ˜ å°„**ã€‚
  - å­—ç¬¦`å¼`ä¸ç ä½`0x1`å…³è”ï¼Œè¿™æ—¶å€™ï¼Œåœ¨hahaç¼–ç å­—ç¬¦é›†ä¸­ï¼Œ`å¼`å°±ä¸å†æ˜¯ä¸€ä¸ªå•çº¯çš„æŠ½è±¡å­—ç¬¦äº†ï¼Œè€Œæ˜¯ä¸€ä¸ª**ç¼–ç å­—ç¬¦(Coded Chacter)**ï¼Œä¸”æ‹¥æœ‰**ç ä½** `0x1`ã€‚

- ä¸æŠ½è±¡å­—ç¬¦é›†åŒºåˆ«
  - **æŠ½è±¡å­—ç¬¦é›†**æ˜¯æŠ½è±¡å­—ç¬¦çš„é›†åˆï¼Œè€Œé›†åˆæ˜¯çš„æ— åºçš„
  - æŠ½è±¡å­—ç¬¦é›†å¹¶æ²¡æœ‰ç”¨ï¼Œå› ä¸ºæˆ‘ä»¬åªèƒ½åˆ¤æ–­æŸä¸ªå­—ç¬¦æ˜¯å¦å±äºæŸä¸ªå­—ç¬¦é›†ï¼Œå´æ— æ³•æ–¹ä¾¿åœ°å¼•ç”¨
  - å¦‚æœè¯´æŠ½è±¡å­—ç¬¦é›†æ˜¯ä¸€ä¸ªSetï¼Œé‚£ä¹ˆç¼–ç å­—ç¬¦é›†å°±å¯ä»¥ç±»æ¯”ä¸ºä¸€ä¸ªDictã€‚
    - å®ƒçš„keyæ˜¯å­—ç¬¦ï¼Œè€Œvalueåˆ™æ˜¯ç ä½ã€‚

- æ³¨æ„ï¼š
  - æŒ‰ç…§ç›®å‰æœ€æ–°Unicode 9.0.0çš„æ ‡å‡†ï¼ŒUCSç†è®ºä¸Šæ”¶å½•äº†128,237ä¸ªå­—ç¬¦,ä¹Ÿå°±æ˜¯0x1F4EDä¸ª
  - ä¸è¿‡å¦‚æœè¿›è¡Œä¸€äº›å°è¯•ä¼šå‘ç°ï¼Œå®é™…èƒ½ç”¨çš„æœ€å¤§çš„ç ä½ç‚¹åœ¨0x1F6D0 ï¼Œä¹Ÿå°±æ˜¯128,720ï¼Œè¶…è¿‡äº†æ”¶å½•çš„å­—ç¬¦æ•°
  - **ç ä½**æ˜¯éè´Ÿæ•´æ•°æ²¡é”™ï¼Œä½†è¿™ä¸ä»£è¡¨å®ƒä¸€å®šæ˜¯è¿ç»­åˆ†é…çš„ã€‚
  - å‡ºç°è¿™ç§æƒ…å†µåªæœ‰ä¸€ä¸ªåŸå› 
    - é‚£å°±æ˜¯UCSçš„ç ä½åˆ†é…ä¸æ˜¯è¿ç»­çš„ï¼Œä¸­é—´æœ‰ä¸€æ®µç©ºæ´ï¼Œå³å­˜åœ¨ä¸€æ®µç ä½ï¼Œæ²¡æœ‰åˆ†é…å¯¹åº”çš„å­—ç¬¦ã€‚
    - å®é™…ä¸Šï¼ŒUCSå®é™…åˆ†é…çš„æ˜¯`0x0000~0x0xD7FF` ä¸ `0xE000~0x10FFFF`è¿™ä¸¤æ®µã€‚
      > **0x0000~0xD7FF** | **0xE000~0x10FFFF** ç§°ä¸º**Unicodeæ ‡é‡å€¼(Unicode scala value)**ï¼Œä¹Ÿå°±æ˜¯å®é™…å€¼
    - ä¸­é—´`0xD800~0xDFFF`è¿™2048ä¸ªç ä½ç•™ä½œå®ƒç”¨ï¼Œå¹¶ä¸å¯¹åº”å®é™…çš„å­—ç¬¦ã€‚
      > - **0xD800~0xDBFF** ç§°ä¸º**High-surrogate**
      > - **0xDC00~0xDFFF** ç§°ä¸º**Low-surrogate**
    - å¦‚æœç›´æ¥å°è¯•å»è¾“å‡ºè¿™ä¸ªç ä½æ®µçš„'å­—ç¬¦'ï¼Œç»“æœä¼šå‘Šè¯‰ä½ è¿™æ˜¯ä¸ªéæ³•å­—ç¬¦ã€‚
      ```python
      >>> print u'\UDDDD'
      File "<stdin>", line 1
      SyntaxError: (unicode error) 'unicodeescape' codec can't decode bytes in position 0-5: truncated \UXXXXXXXX escape
      ```

- ä¾‹ï¼šä¸ºhahaæŠ½è±¡å­—ç¬¦é›†è¿›è¡Œç¼–ç ï¼Œå°±å¯ä»¥å¾—åˆ°hahaç¼–ç å­—ç¬¦é›†ã€‚
  ```python
  haha_ccs = { 'a' : 0x0, 'å¼':0x1 , 'ã‚':0x2 , ' Î±':0x3 , 'Ğ”':0x4  }
  ```

#### 1.1.4.4. å­—ç¬¦ç¼–ç è¡¨ CEF (Character Encoding Form)

- é—®é¢˜ï¼šåœ¨è®²æŠ½è±¡å­—ç¬¦é›†ACRçš„æ—¶å€™æ›¾ç»æèµ·ï¼ŒUCSæ˜¯ä¸€ä¸ª**å¼€æ”¾å­—ç¬¦é›†**ï¼Œæœªæ¥å¯èƒ½æœ‰æ›´å¤šçš„ç¬¦å·åŠ å…¥åˆ°è¿™ä¸ªå­—ç¬¦é›†ä¸­æ¥
  - ä¹Ÿå°±æ˜¯è¯´UCSéœ€è¦çš„**ç ä½**ï¼Œç†è®ºä¸Šæ˜¯**æ— é™**çš„ã€‚
  - ä½†è®¡ç®—æœº**æ•´å½¢**èƒ½è¡¨ç¤ºçš„æ•´æ•°èŒƒå›´æ˜¯æœ‰é™çš„
  - æ‰€ä»¥è¯´åˆ°åº•ï¼Œå¯¹ **æœ‰é™ä¸æ— é™çš„çŸ›ç›¾ï¼Œå¿…é¡»é€šè¿‡ä¸€ç§æ–¹å¼è¿›è¡Œè°ƒå’Œ** 
  - è¿™ä¸ªè§£å†³æ–¹æ¡ˆï¼Œå°±æ˜¯**å­—ç¬¦ç¼–ç è¡¨(Character Encoding Form)**ã€‚

- å­—ç¬¦ç¼–ç è¡¨
  - ä½œç”¨
    - **ç ä½(Code Point)**æ˜ å°„ä¸º**ç å…ƒåºåˆ—(Code Unit Sequences)ã€‚**
    - å¯¹äºUnicodeè€Œè¨€ï¼Œå­—ç¬¦ç¼–ç è¡¨å°†**Unicodeæ ‡é‡å€¼(Unicode scalar value)**ä¸€ä¸€æ˜ å°„ä¸º**ç å…ƒåºåˆ—(Code Unit Sequences)**ã€‚

- **ç å…ƒ**
  > Code unit: The minimal bit combination that can represent a unit of encoded text for processing or interchange.
  - è¯´æ˜ï¼š
    - ç å…ƒæ˜¯èƒ½ç”¨äºå¤„ç†æˆ–äº¤æ¢ç¼–ç æ–‡æœ¬çš„æœ€å°æ¯”ç‰¹ç»„åˆ
    - é€šå¸¸è®¡ç®—æœºå¤„ç†å­—ç¬¦çš„ç å…ƒä¸ºä¸€å­—èŠ‚ï¼Œå³8bitã€‚
    - åŒæ—¶å› ä¸ºè®¡ç®—æœºä¸­charå…¶å®æ˜¯ä¸€ç§æ•´å½¢ï¼Œè€Œæ•´å½¢çš„è®¡ç®—å¾€å¾€ä»¥è®¡ç®—æœºçš„å­—é•¿ä½œä¸ºä¸€ä¸ªåŸºç¡€å•å…ƒï¼Œé€šå¸¸æ¥è®²ï¼Œä¹Ÿå°±æ˜¯4å­—èŠ‚ã€‚
  - ç¤ºä¾‹ï¼šUnicode
    - Unicodeå®šä¹‰äº†ä¸‰ç§ä¸åŒçš„CEFï¼Œåˆ†åˆ«é‡‡ç”¨äº†1å­—èŠ‚ï¼Œ2å­—èŠ‚ï¼Œ4å­—èŠ‚çš„ç å…ƒï¼Œæ­£å¥½å¯¹åº”äº†è®¡ç®—æœºä¸­æœ€å¸¸è§çš„ä¸‰ç§æ•´å½¢é•¿åº¦ï¼š
    - UTF-8çš„ç å…ƒä¸ºuint8, UTF-16çš„ç å…ƒä¸ºuint16, UTF-32çš„ç å…ƒä¸ºuint32ã€‚
    - å½“ç„¶ä¹Ÿæœ‰ä¸€äº›éæ ‡å‡†çš„CEFï¼Œå¦‚UCS-2,UCS-4
- åŒå‘æ˜ å°„
  - CEFå°†**ç ä½**æ˜ å°„ä¸º**ç å…ƒåºåˆ—ã€‚**è¿™ä¸ªæ˜ å°„å¿…é¡»æ˜¯**ä¸€ä¸€æ˜ å°„(åŒå°„)**ã€‚
  - å› ä¸ºå½“ä½¿ç”¨CEFè¿›è¡Œ**ç¼–ç (Encode)**æ—¶ï¼Œæ˜¯å°†ç ä½æ˜ å°„ä¸ºç å…ƒåºåˆ—ã€‚
  - è€Œå½“ä½¿ç”¨CEFè¿›è¡Œ**è§£ç (Decode)**æ—¶ï¼Œæ˜¯å°†ç å…ƒåºåˆ—è¿˜åŸä¸ºç ä½ã€‚
  - ä¸ºäº†ä¿è¯ä¸¤ä¸ªè¿‡ç¨‹éƒ½ä¸å‡ºç°æ­§ä¹‰ï¼Œå¿…é¡»ä¿è¯CEFæ˜¯ä¸€ä¸ªåŒå°„ã€‚

- å®ç°ï¼š
  - è¯´æ˜
    - **å˜é•¿ç¼–ç **
    - æ— è®ºæ˜¯UTF-8è¿˜æ˜¯UTF-16ï¼Œæœ¬è´¨æ€æƒ³éƒ½æ˜¯**é€šè¿‡é¢„ç•™æ ‡è®°ä½æ¥æŒ‡ç¤ºç å…ƒåºåˆ—çš„é•¿åº¦ï¼Œ**ä»è€Œå®ç°å˜é•¿ç¼–ç ã€‚
  - ç¤ºä¾‹ï¼š

    ![encryption-6.png](./image/encryption-6.png)

    ![encryption-7.png](./image/encryption-7.png)


#### 1.1.4.5. å­—ç¬¦ç¼–ç æ–¹æ¡ˆ CES (Character Encoding Schema)

#### 1.1.4.6. ä¼ è¾“ç¼–ç è¯­æ³• TES (Transfer Encoding Syntax)

## 1.2. ç¼–ç ç®—æ³•

#### 1.2.0.7. URL ç¼–ç 

#### 1.2.0.8. Base64 ç¼–ç 

## 1.3. å“ˆå¸Œ(hash)ç®—æ³•/æ‘˜è¦(digest)ç®—æ³•

### 1.3.1. ç®—æ³•è¯´æ˜

| ç®—æ³•       | è¾“å‡ºé•¿åº¦ï¼ˆä½ï¼‰ | è¾“å‡ºé•¿åº¦ï¼ˆå­—èŠ‚ï¼‰ |
| :--------- | :------------- | :--------------- |
| MD5        | 128 bits       | 16 bytes         |
| SHA-1      | 160 bits       | 20 bytes         |
| RipeMD-160 | 160 bits       | 20 bytes         |
| SHA-256    | 256 bits       | 32 bytes         |
| SHA-512    | 512 bits       | 64 bytes         |

### 1.3.2. java åº“-BouncyCastle

## 1.4. Hmac ç®—æ³•

> ak/sk

## 1.5. å¯¹ç§°åŠ å¯†ç®—æ³•

### 1.5.1. ç®—æ³•è¯´æ˜

| ç®—æ³• | å¯†é’¥é•¿åº¦    | å·¥ä½œæ¨¡å¼             | å¡«å……æ¨¡å¼                                |
| :--- | :---------- | :------------------- | :-------------------------------------- |
| DES  | 56/64       | ECB/CBC/PCBC/CTR/... | NoPadding/PKCS5Padding/...              |
| AES  | 128/192/256 | ECB/CBC/PCBC/CTR/... | NoPadding/PKCS5Padding/PKCS7Padding/... |
| IDEA | 128         | ECB                  | PKCS5Padding/PKCS7Padding/...           |

### 1.5.2. ç¤ºä¾‹

## 1.6. å£ä»¤åŠ å¯†ç®—æ³•

### 1.6.1. è¯´æ˜

### 1.6.2. ç¤ºä¾‹

## 1.7. å¯†é’¥äº¤æ¢ç®—æ³•

### 1.7.1. è¯´æ˜

### 1.7.2. å®ç°

## 1.8. éå¯¹ç§°åŠ å¯†ç®—æ³•

## 1.9. ç­¾åç®—æ³•

## 1.10. æ•°å­—è¯ä¹¦

# 2. åº”ç”¨ä¸é—®é¢˜

## 2.1. mysqlå¤„ç†emoji

## 2.2. Https çš„è¿æ¥ä¸ä¸­é—´äººæ”»å‡»

# 3. å‚è€ƒèµ„æ–™

- [å»–é›ªå³°-åŠ å¯†ä¸å®‰å…¨](https://www.liaoxuefeng.com/wiki/1252599548343744/1255943717668160)
- [å­—ç¬¦é›†å’Œå­—ç¬¦ç¼–ç ï¼ˆCharset & Encodingï¼‰](https://www.runoob.com/w3cnote/charset-encoding.html)
- [Unicode å’Œ UTF-8 çš„å…³ç³»](https://blog.csdn.net/zhusongziye/article/details/84261211)
- [å­—ç¬¦ç¼–ç ç¬”è®°ï¼šASCIIï¼ŒUnicode å’Œ UTF-8](https://www.ruanyifeng.com/blog/2007/10/ascii_unicode_and_utf-8.html)
- **[é˜®ä¸€å³°çš„ç½‘ç»œæ—¥å¿—](https://www.ruanyifeng.com/blog/2007/10/ascii_unicode_and_utf-8.html)**
- [ååˆ†é’Ÿææ¸…å­—ç¬¦é›†å’Œå­—ç¬¦ç¼–ç ](http://cenalulu.github.io/linux/character-encoding/)
- [Javaä¸­çš„ç¼–ç é—®é¢˜ï¼šæ¥æ”¶ã€è½¬ç ã€è¾“å‡º](https://blog.csdn.net/ts_dchs/article/details/73011259)
- [å­—ç¬¦ç¼–ç æ å½±ï¼šç°ä»£ç¼–ç æ¨¡å‹](https://www.zhihu.com/question/31833164/answer/115069547?spm=a2c6h.12873639.0.0.50534cadpacQ2r)
- [å­—ç¬¦ç¼–ç ï¼šUnicodeã€UTF-8ã€GBK](https://senitco.github.io/2017/06/06/character-encoding/)
